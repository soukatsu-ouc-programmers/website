小樽商科大学 創作活動部 Webサイト
===

本サイトはCMSの代表格であるWordPressによって構築されています。
独自テーマを用いているため、自由に編集することでカスタマイズすることができるようになっています。


## ローカル開発環境

以下の手順で構築できます。

※ Windowsを使用している場合はWSL2＋Docker環境を推奨します。

1. Dockerをインストールします。
2. 本リポジトリーをクローンします。
```bash
$ git clone https://github.com/soukatsu-ouc-programmers/website.git
```
3. Dockerコンテナーを起動します。
```bash
$ docker-compose up
```


### ローカルサイトへのアクセス方法

Webブラウザーから `http://localhost:8080/` を開きます。


### ローカル管理画面へのアクセス方法

Webブラウザーから `http://localhost:8080/wp-admin/` を開きます。

※ ユーザー名は `admin` / パスワードは `admin` です。


### ローカルデータベース管理画面へのアクセス方法

Webブラウザーから `http://localhost:8081/` を開きます。

※ phpMyAdminが利用できるようになっています。


#### 初期データベースの構築方法

1. phpMyAdmin の `wp_soukatsu` を開きます。
2. 上部タブの `エクスポート` からデフォルト設定で「実行」を押下します。
3. ダウンロードされたSQLファイルを `/dev-resources/db/` 以下に移動させます。
4. DBコンテナーが使用しているDockerボリュームを削除してからコンテナーを再起動すると自動的にSQLが実行されます。


### 注意点

- 初期状態ではデフォルトのプラグインだけがインストールされています。
  - 本番同等のプラグインが必要な場合は、本番のWordPressから取得してくる必要があります。
  - セキュリティ上の都合により本リポジトリーには追加していませんので、本番から取得した場合はくれぐれもコミット対象に含めないようご注意下さい。

- 初期状態ではデフォルトの記事だけが登録されています。
  - 本番同等のコンテンツが必要な場合は、本番のWordPressから取得してくる必要があります。
  - セキュリティ上の都合により本リポジトリーには追加していませんので、本番から取得した場合はくれぐれもコミット対象に含めないようご注意下さい。


## 本番WordPressへのテーマアップロード

1. `/theme` 以下をZipファイルで圧縮します。
2. 本番WordPress上で「外観」→「テーマ」→「新規追加」→「テーマのアップロード」
3. 圧縮したZipファイルをアップロードします。
